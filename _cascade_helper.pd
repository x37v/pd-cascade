#N canvas 0 30 1351 717 10;
#X obj 52 31 inlet~;
#X msg 204 325 set \$1;
#X obj 51 340 outlet~;
#X obj 494 150 throw~ \$0-internal;
#X obj 52 173 catch~ \$0-internal;
#X text 670 125 <-processing happens here;
#X obj 843 241 loadbang;
#X obj 843 448 s \$0-first;
#X obj 865 428 s \$0-last;
#X obj 888 408 s \$0-next_index;
#X obj 52 101 *~ 0;
#X obj 73 55 r \$0-first;
#X msg 73 78 1;
#X text 99 26 only the first instance reads from the inlet;
#X obj 51 318 *~ 0;
#X obj 72 274 r \$0-last;
#X msg 72 296 1;
#X text 51 152 only the last instance sends to the output;
#X text 840 220 decide which instance this is \, deal with first and
last;
#X obj 495 65 catch~ \$3-\$1-test;
#X obj 52 126 throw~ \$3-\$1-test;
#X obj 172 363 throw~ \$3-\$1-test;
#X obj 204 301 makefilename \$3-%d-test;
#X obj 195 193 r \$0-next_index;
#X obj 843 338 t b b;
#X text 928 377 <-first instance needs to address next too;
#X obj 195 215 t f b;
#X obj 171 300 *~ 0;
#X text 50 6 args: instance_number instance_count unique_id abstraction_name
absarg1 arg2.., f 122;
#X text 234 215 all but the last instance need to send to the next
throw;
#X msg 222 240 1;
#X obj 843 263 f \$1;
#X obj 843 285 + 1;
#X obj 843 308 sel 1 \$2;
#X obj 641 25 inlet;
#X text 680 25 <--- pass data down to the wrapped abstraction;
#X obj 641 86 list trim;
#X obj 641 63 list prepend 0;
#X text 734 65 anything we get gets a 0 prefixed and sent out to our
wrapped abstraction;
#X msg 897 375 1;
#X obj 494 123 clone -x \$4 1 \$5 \$6 \$7 \$8 \$9;
#X connect 0 0 10 0;
#X connect 1 0 21 0;
#X connect 4 0 14 0;
#X connect 4 0 27 0;
#X connect 6 0 31 0;
#X connect 10 0 20 0;
#X connect 11 0 12 0;
#X connect 12 0 10 1;
#X connect 14 0 2 0;
#X connect 15 0 16 0;
#X connect 16 0 14 1;
#X connect 19 0 40 0;
#X connect 22 0 1 0;
#X connect 23 0 26 0;
#X connect 24 0 7 0;
#X connect 24 1 39 0;
#X connect 26 0 22 0;
#X connect 26 1 30 0;
#X connect 27 0 21 0;
#X connect 30 0 27 1;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 24 0;
#X connect 33 1 8 0;
#X connect 33 2 9 0;
#X connect 34 0 37 0;
#X connect 36 0 40 1;
#X connect 37 0 36 0;
#X connect 39 0 9 0;
#X connect 40 0 3 0;
